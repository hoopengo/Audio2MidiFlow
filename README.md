# ðŸŽµ Audio2MidiFlow

## ðŸ“‹ Ð§Ñ‚Ð¾ ÑÑ‚Ð¾ Ð·Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚?

Audio2MidiFlow - ÑÑ‚Ð¾ Ð²ÐµÐ±-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°Ñ‚ÑŒ Ð°ÑƒÐ´Ð¸Ð¾Ñ„Ð°Ð¹Ð»Ñ‹ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, MP3) Ð¸ ÐºÐ¾Ð½Ð²ÐµÑ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸Ñ… Ð² MIDI Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚. ÐŸÑ€Ð¾ÐµÐºÑ‚ ÑÐ¾ÑÑ‚Ð¾Ð¸Ñ‚ Ð¸Ð·:

- **Backend** - API Ð½Ð° Python Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ FastAPI
- **Frontend** - Ð²ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Ð½Ð° Next.js (React)

## ðŸ› ï¸ Ð¢Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ Ð´Ð»Ñ Ð·Ð°Ð¿ÑƒÑÐºÐ°

ÐŸÐµÑ€ÐµÐ´ Ð½Ð°Ñ‡Ð°Ð»Ð¾Ð¼ ÑƒÐ±ÐµÐ´Ð¸ÑÑŒ, Ñ‡Ñ‚Ð¾ Ñƒ Ñ‚ÐµÐ±Ñ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ñ‹:

### ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ:

- **Python 3.11+** - Ð´Ð»Ñ Ð±ÑÐºÐµÐ½Ð´Ð°
- **Node.js 18+** - Ð´Ð»Ñ Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´Ð°
- **npm** - Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑ€ Ð¿Ð°ÐºÐµÑ‚Ð¾Ð² Node.js

### ÐžÐ¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾ (Ð´Ð»Ñ Docker-Ð·Ð°Ð¿ÑƒÑÐºÐ°):

- **Docker** - ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¸Ð·Ð°Ñ†Ð¸Ñ
- **Docker Compose** - ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°Ð¼Ð¸

## ðŸš€ Ð¡Ð¿Ð¾ÑÐ¾Ð±Ñ‹ Ð·Ð°Ð¿ÑƒÑÐºÐ°

Ð•ÑÑ‚ÑŒ Ð´Ð²Ð° ÑÐ¿Ð¾ÑÐ¾Ð±Ð° Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚:

### Ð¡Ð¿Ð¾ÑÐ¾Ð± 1: ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)

Ð¡Ð°Ð¼Ñ‹Ð¹ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¹ ÑÐ¿Ð¾ÑÐ¾Ð± - Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð³Ð¾Ñ‚Ð¾Ð²Ñ‹Ð¹ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸:

```bash
# ÐšÐ»Ð¾Ð½Ð¸Ñ€ÑƒÐ¹ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹ (ÐµÑÐ»Ð¸ ÐµÑ‰Ñ‘ Ð½Ðµ ÑÐ´ÐµÐ»Ð°Ð» ÑÑ‚Ð¾Ð³Ð¾)
git clone https://github.com/hoopengo/Audio2MidiFlow.git
cd Audio2MidiFlow

# Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸
chmod +x setup.sh
./setup.sh
```

Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸:

- ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ðµ Python Ð¸ Node.js
- Ð¡Ð¾Ð·Ð´Ð°ÑÑ‚ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ Ð´Ð»Ñ Python
- Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ Ð²ÑÐµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
- Ð¡Ð¾Ð·Ð´Ð°ÑÑ‚ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ñ‹Ðµ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸
- ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ

ÐŸÐ¾ÑÐ»Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð¸ Ðº Ñ€Ð°Ð·Ð´ÐµÐ»Ñƒ "Ð—Ð°Ð¿ÑƒÑÐº ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð²".

### Ð¡Ð¿Ð¾ÑÐ¾Ð± 2: Ð ÑƒÑ‡Ð½Ð°Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°

#### ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð±ÑÐºÐµÐ½Ð´Ð°:

```bash
# ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸ Ð² Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑŽ Ð±ÑÐºÐµÐ½Ð´Ð°
cd backend

# Ð¡Ð¾Ð·Ð´Ð°Ð¹ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ
python3 -m venv .venv

# ÐÐºÑ‚Ð¸Ð²Ð¸Ñ€ÑƒÐ¹ ÐµÐ³Ð¾
source .venv/bin/activate  # Ð´Ð»Ñ Linux/Mac
# Ð¸Ð»Ð¸
.venv\Scripts\activate     # Ð´Ð»Ñ Windows

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
pip install --upgrade pip
pip install -r requirements.txt

# Ð¡Ð¾Ð·Ð´Ð°Ð¹ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ñ‹Ðµ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸
mkdir -p uploads outputs data

# Ð¡Ð¾Ð·Ð´Ð°Ð¹ Ñ„Ð°Ð¹Ð» .env (ÐµÑÐ»Ð¸ ÐµÐ³Ð¾ Ð½ÐµÑ‚)
cat > .env << EOF
DEBUG=true
LOG_LEVEL=INFO
DATABASE_URL=sqlite:///./data/audio2midi.db
UPLOAD_DIR=./uploads
OUTPUT_DIR=./outputs
MAX_FILE_SIZE=52428800
CORS_ORIGINS=["http://localhost:3000"]
EOF
```

#### ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´Ð°:

```bash
# ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸ Ð² Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑŽ Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´Ð°
cd frontend

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
npm install

# CÐ¾Ð·Ð´Ð°Ñ‚ÑŒ .env.local
cat > .env.local << EOF
NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1
NEXT_PUBLIC_DEV_MODE=true
EOF
```

## ðŸ–¥ï¸ Ð—Ð°Ð¿ÑƒÑÐº ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð²

ÐŸÐ¾ÑÐ»Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° Ð½ÑƒÐ¶Ð½Ð¾ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð¾Ð±Ð° ÑÐµÑ€Ð²ÐµÑ€Ð°. ÐžÑ‚ÐºÑ€Ð¾Ð¹ Ð´Ð²Ð° Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»Ð°:

### Ð¢ÐµÑ€Ð¼Ð¸Ð½Ð°Ð» 1 - Ð—Ð°Ð¿ÑƒÑÐº Ð±ÑÐºÐµÐ½Ð´Ð°:

```bash
# ÐÐºÑ‚Ð¸Ð²Ð¸Ñ€ÑƒÐ¹ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ
cd backend
source .venv/bin/activate  # Ð´Ð»Ñ Linux/Mac
# Ð¸Ð»Ð¸
.venv\Scripts\activate     # Ð´Ð»Ñ Windows

# Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸ ÑÐµÑ€Ð²ÐµÑ€
python -m app.main
```

Ð‘ÑÐºÐµÐ½Ð´ Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÑƒ: http://localhost:8000

### Ð¢ÐµÑ€Ð¼Ð¸Ð½Ð°Ð» 2 - Ð—Ð°Ð¿ÑƒÑÐº Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´Ð°:

```bash
# ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸ Ð² Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑŽ Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´Ð°
cd frontend

# Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸ ÑÐµÑ€Ð²ÐµÑ€ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸
npm run dev
```

Ð¤Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´ Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÑƒ: http://localhost:3000

## ðŸ³ Ð—Ð°Ð¿ÑƒÑÐº Ñ‡ÐµÑ€ÐµÐ· Docker (Ð°Ð»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹ ÑÐ¿Ð¾ÑÐ¾Ð±)

```bash
# Ð¡Ð¾Ð±ÐµÑ€Ð¸ Ð¸ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹
docker-compose up --build
```

Ð­Ñ‚Ð¾ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ Ð¸ Ð±ÑÐºÐµÐ½Ð´, Ð¸ Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´ Ð² ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°Ñ…. Ð‘ÑÐºÐµÐ½Ð´ Ð±ÑƒÐ´ÐµÑ‚ Ð½Ð° http://localhost:8000, Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´ Ð½Ð° http://localhost:3000.

ÐŸÐ¾ÑÐ»Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ°:

- **Ð’ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ**: http://localhost:3000
- **API Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ**: http://localhost:8000/docs
- **Health check**: http://localhost:8000/health

## ðŸ“ ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ

### Backend (.env):

- `DEBUG` - Ñ€ÐµÐ¶Ð¸Ð¼ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ¸ (true/false)
- `LOG_LEVEL` - ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ (INFO, DEBUG, ERROR)
- `DATABASE_URL` - URL Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…
- `UPLOAD_DIR` - Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ñ Ð´Ð»Ñ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¾Ðº
- `OUTPUT_DIR` - Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ñ Ð´Ð»Ñ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð²
- `MAX_FILE_SIZE` - Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ€Ð°Ð·Ð¼ÐµÑ€ Ñ„Ð°Ð¹Ð»Ð° Ð² Ð±Ð°Ð¹Ñ‚Ð°Ñ…

### Frontend (.env.local):

- `NEXT_PUBLIC_API_URL` - URL API Ð±ÑÐºÐµÐ½Ð´Ð°
- `NEXT_PUBLIC_DEV_MODE` - Ñ€ÐµÐ¶Ð¸Ð¼ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸
